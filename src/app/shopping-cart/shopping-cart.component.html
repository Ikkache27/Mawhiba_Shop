<h1>Shopping Cart</h1>
<ng-container *ngIf="cart$ | async as cart">
    <p>You have {{cart.totalItemsCount}} items in your shopping Cart.</p>

    <div class="mat-elevation-z8" >  
        <table mat-table [dataSource]="cart.items" style="width: 100%;" >
        
            <ng-container  matColumnDef="product">
                <th mat-header-cell *matHeaderCellDef >Product</th>
                <td mat-cell *matCellDef="let item"> {{item.product.title}} </td>
                <td mat-footer-cell *matFooterCellDef> Total </td>
            </ng-container>
            <ng-container matColumnDef="quantity">
                <th mat-header-cell *matHeaderCellDef >Quantity</th>
                <td mat-cell *matCellDef="let item"> <app-product-quantity [product]="item.product" [shopping-cart]="cart" [product-key]="item.productId"></app-product-quantity> </td>
                <td mat-footer-cell *matFooterCellDef></td>
            </ng-container>
            <ng-container  matColumnDef="price">
                <th mat-header-cell *matHeaderCellDef > Total Price</th>
                <td mat-cell *matCellDef="let item"> {{item.totalPrice | currency}} </td>
                <td mat-footer-cell *matFooterCellDef>{{cart.totalPrice | currency}}</td>
            </ng-container>
            
            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            <tr mat-footer-row *matFooterRowDef="displayedColumns"></tr>
        
        
        </table>
        </div>

</ng-container>
